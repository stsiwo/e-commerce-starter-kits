2021-07-17 15:28:43.411  INFO 18568 --- [  restartedMain] com.iwaodev.Application                  : Starting Application using Java 11.0.5 on sts-XPS-8900 with PID 18568 (/home/sts/Documents/Workspace/Jobs/e-commerce-starter-kits/api/target/classes started by sts in /home/sts/Documents/Workspace/Jobs/e-commerce-starter-kits/api)
2021-07-17 15:28:43.441  INFO 18568 --- [  restartedMain] com.iwaodev.Application                  : The following profiles are active: integ
2021-07-17 15:28:43.660  INFO 18568 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jaxb-xjc-2.3.2.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jaxb-runtime-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/txw2-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/stax-ex-1.8.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/FastInfoset-1.2.16.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jakarta.activation-api-1.2.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/xsom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/codemodel-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/rngom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/dtd-parser-1.4.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/istack-commons-tools-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/istack-commons-runtime-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/relaxng-datatype-2.3.2.jar
2021-07-17 15:28:43.675  INFO 18568 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-jxc-2.3.2.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-xjc-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/xsom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/codemodel-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/rngom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/dtd-parser-1.4.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/istack-commons-tools-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/relaxng-datatype-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-runtime-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/stax-ex-1.8.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/FastInfoset-1.2.16.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jakarta.activation-api-1.2.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/istack-commons-runtime-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/txw2-2.3.2.jar
2021-07-17 15:28:43.676  INFO 18568 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-runtime-2.3.1.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-api-2.3.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/txw2-2.3.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/istack-commons-runtime-3.0.7.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/stax-ex-1.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/javax.activation-api-1.2.0.jar
2021-07-17 15:28:43.678  INFO 18568 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-07-17 15:28:43.679  INFO 18568 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-07-17 15:28:47.267  INFO 18568 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-17 15:28:47.865  INFO 18568 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 413 ms. Found 8 JPA repository interfaces.
2021-07-17 15:28:49.180  INFO 18568 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@74094052' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-07-17 15:28:49.218  INFO 18568 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-07-17 15:28:50.452  INFO 18568 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-07-17 15:28:50.460  INFO 18568 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-07-17 15:28:50.460  INFO 18568 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2021-07-17 15:28:50.550  INFO 18568 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-07-17 15:28:50.550  INFO 18568 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6870 ms
2021-07-17 15:28:50.631  WARN 18568 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-17 15:28:50.842  INFO 18568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-07-17 15:28:50.845  WARN 18568 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2021-07-17 15:28:52.396  INFO 18568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-07-17 15:28:52.477  INFO 18568 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 7.11.0 by Redgate
2021-07-17 15:28:52.478  INFO 18568 --- [  restartedMain] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:mysql://localhost:3307/ec-schema (MySQL 5.7)
2021-07-17 15:28:53.064  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 7 migrations (execution time 00:00.175s)
2021-07-17 15:28:53.442  INFO 18568 --- [  restartedMain] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table `ec-schema`.`flyway_schema_history` ...
2021-07-17 15:28:54.451  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema `ec-schema`: << Empty Schema >>
2021-07-17 15:28:54.478  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.0 - init"
2021-07-17 15:28:54.489  WARN 18568 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: Can't create database 'ec-schema'; database exists (SQL State: HY000 - Error Code: 1007)
2021-07-17 15:29:03.651  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.1 - insert test data"
2021-07-17 15:29:04.641  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.2 - DDL add product weight column on order details table"
2021-07-17 15:29:05.677  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.3 - DATA update product weight on existing order details data"
2021-07-17 15:29:05.777  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.4 - DDL alter foreign key constraint on user id on order events table"
2021-07-17 15:29:06.862  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.5 - DDL alter foreign key constraint on user id on orders table"
2021-07-17 15:29:07.870  INFO 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.6 - DDL increase varchar length on tables"
2021-07-17 15:29:08.784 ERROR 18568 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migration of schema `ec-schema` to version "1.0.6 - DDL increase varchar length on tables" failed! Please restore backups and roll back database and code!
2021-07-17 15:29:08.852  INFO 18568 --- [  restartedMain] o.f.c.i.c.SqlScriptCallbackFactory       : Executing SQL callback: afterMigrateError - repair
2021-07-17 15:29:08.917 ERROR 18568 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'springSecurityConfig': Unsatisfied dependency expressed through method 'setContentNegotationStrategy' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: 
Migration V1_0_6__DDL_increase_varchar_length_on_tables.sql failed
------------------------------------------------------------------
SQL State  : 42000
Error Code : 1118
Message    : Row size too large. The maximum row size for the used table type, not counting BLOBs, is 65535. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs
Location   : db/migration/mysql/common/V1_0_6__DDL_increase_varchar_length_on_tables.sql (/home/sts/Documents/Workspace/Jobs/e-commerce-starter-kits/api/target/classes/db/migration/mysql/common/V1_0_6__DDL_increase_varchar_length_on_tables.sql)
Line       : 4
Statement  : ALTER TABLE products MODIFY COLUMN note VARCHAR(10000)

2021-07-17 15:29:08.952  INFO 18568 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-07-17 15:29:08.955  WARN 18568 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.5/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.5/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)
 java.base@11.0.5/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)
 java.base@11.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@11.0.5/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.5/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.5/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.5/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.5/java.lang.Thread.run(Thread.java:834)
2021-07-17 15:29:08.957  WARN 18568 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
2021-07-17 15:29:08.957  INFO 18568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-07-17 15:29:08.964  INFO 18568 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-07-17 15:29:08.981  INFO 18568 --- [  restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-07-17 15:29:09.122  WARN 18568 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext

java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [db/migration/mysql/common/V1_0_6__DDL_increase_varchar_length_on_tables.sql]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.
	at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1384) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.apache.catalina.loader.WebappClassLoaderBase.getResource(WebappClassLoaderBase.java:1037) ~[tomcat-embed-core-9.0.46.jar:9.0.46]
	at org.flywaydb.core.internal.resource.classpath.ClassPathResource.getUrl(ClassPathResource.java:77) ~[flyway-core-7.11.0.jar:na]
	at org.flywaydb.core.internal.resource.classpath.ClassPathResource.getAbsolutePathOnDisk(ClassPathResource.java:69) ~[flyway-core-7.11.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException.getMessage(FlywaySqlScriptException.java:81) ~[flyway-core-7.11.0.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:54) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.ThrowableProxy.<init>(ThrowableProxy.java:60) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.spi.LoggingEvent.<init>(LoggingEvent.java:119) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383) ~[logback-classic-1.2.3.jar:na]
	at ch.qos.logback.classic.Logger.log(Logger.java:765) ~[logback-classic-1.2.3.jar:na]
	at org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog.error(LogAdapter.java:433) ~[spring-jcl-5.3.8.jar:1.2]
	at org.springframework.boot.SpringApplication.reportFailure(SpringApplication.java:860) ~[spring-boot-2.4.7.jar:2.4.7]
	at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:825) ~[spring-boot-2.4.7.jar:2.4.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:349) ~[spring-boot-2.4.7.jar:2.4.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.7.jar:2.4.7]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1318) ~[spring-boot-2.4.7.jar:2.4.7]
	at com.iwaodev.Application.main(Application.java:92) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.4.7.jar:2.4.7]

2021-07-17 15:33:06.979  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : Starting Application using Java 11.0.5 on sts-XPS-8900 with PID 18954 (/home/sts/Documents/Workspace/Jobs/e-commerce-starter-kits/api/target/classes started by sts in /home/sts/Documents/Workspace/Jobs/e-commerce-starter-kits/api)
2021-07-17 15:33:06.982  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : The following profiles are active: integ
2021-07-17 15:33:07.045  INFO 18954 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jaxb-xjc-2.3.2.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jaxb-runtime-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/txw2-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/stax-ex-1.8.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/FastInfoset-1.2.16.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/jakarta.activation-api-1.2.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/xsom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/codemodel-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/rngom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/dtd-parser-1.4.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/istack-commons-tools-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/istack-commons-runtime-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-xjc/2.3.2/relaxng-datatype-2.3.2.jar
2021-07-17 15:33:07.045  INFO 18954 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-jxc-2.3.2.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-xjc-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/xsom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/codemodel-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/rngom-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/dtd-parser-1.4.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/istack-commons-tools-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/relaxng-datatype-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jaxb-runtime-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/stax-ex-1.8.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/FastInfoset-1.2.16.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/jakarta.activation-api-1.2.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/istack-commons-runtime-3.0.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-jxc/2.3.2/txw2-2.3.2.jar
2021-07-17 15:33:07.045  INFO 18954 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-runtime-2.3.1.jar referenced one or more files that do not exist: file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/jaxb-api-2.3.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/txw2-2.3.1.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/istack-commons-runtime-3.0.7.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/stax-ex-1.8.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar,file:/home/sts/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/javax.activation-api-1.2.0.jar
2021-07-17 15:33:07.046  INFO 18954 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-07-17 15:33:07.046  INFO 18954 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-07-17 15:33:08.755  INFO 18954 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-07-17 15:33:08.887  INFO 18954 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 8 JPA repository interfaces.
2021-07-17 15:33:09.585  INFO 18954 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2a2ae777' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-07-17 15:33:09.604  INFO 18954 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-07-17 15:33:10.557  INFO 18954 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-07-17 15:33:10.575  INFO 18954 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-07-17 15:33:10.576  INFO 18954 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2021-07-17 15:33:10.736  INFO 18954 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-07-17 15:33:10.736  INFO 18954 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3689 ms
2021-07-17 15:33:10.820  WARN 18954 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-07-17 15:33:11.041  INFO 18954 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-07-17 15:33:11.058  WARN 18954 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2021-07-17 15:33:11.865  INFO 18954 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-07-17 15:33:11.925  INFO 18954 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 7.11.0 by Redgate
2021-07-17 15:33:11.926  INFO 18954 --- [  restartedMain] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:mysql://localhost:3307/ec-schema (MySQL 5.7)
2021-07-17 15:33:12.012  INFO 18954 --- [  restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 7 migrations (execution time 00:00.028s)
2021-07-17 15:33:12.021  INFO 18954 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema `ec-schema`: 1.0.5
2021-07-17 15:33:12.035  INFO 18954 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema `ec-schema` to version "1.0.6 - DDL increase varchar length on tables"
2021-07-17 15:33:20.841  INFO 18954 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema `ec-schema`, now at version v1.0.6 (execution time 00:08.824s)
2021-07-17 15:33:21.182  INFO 18954 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-07-17 15:33:21.270  INFO 18954 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-07-17 15:33:21.557  INFO 18954 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-07-17 15:33:21.879  INFO 18954 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-07-17 15:33:21.886  WARN 18954 --- [  restartedMain] org.hibernate.dialect.H2Dialect          : HHH000431: Unable to determine H2 database version, certain features may not work
2021-07-17 15:33:24.413  INFO 18954 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-07-17 15:33:24.431  INFO 18954 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-07-17 15:33:26.008  INFO 18954 --- [  restartedMain] o.s.boot.web.servlet.RegistrationBean    : Filter jwtCookieRequestFilter was not registered (disabled)
2021-07-17 15:33:26.469  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : mail service config
2021-07-17 15:33:26.469  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : smtp name: smtp.gmail.com
2021-07-17 15:33:26.469  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : is starttls enable: true
2021-07-17 15:33:26.712  INFO 18954 --- [  restartedMain] c.i.infrastructure.aws.s3.S3ServiceImpl  : aws s3 region: us-west-2
2021-07-17 15:33:26.712  INFO 18954 --- [  restartedMain] c.i.infrastructure.aws.s3.S3ServiceImpl  : aws s3 bucket name: bucket.iwaodev.com
2021-07-17 15:33:28.380  INFO 18954 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/domain/products/{id}/images/{imageName}', GET] with []
2021-07-17 15:33:28.381  INFO 18954 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/domain/users/{id}/avatar-image/{imageName}', GET] with []
2021-07-17 15:33:28.432  INFO 18954 --- [  restartedMain] com.iwaodev.config.SpringSecurityConfig  : cors config:
2021-07-17 15:33:28.433  INFO 18954 --- [  restartedMain] com.iwaodev.config.SpringSecurityConfig  : origin: http://localdev.com:3000
2021-07-17 15:33:28.433  INFO 18954 --- [  restartedMain] com.iwaodev.config.SpringSecurityConfig  : credetials: true
2021-07-17 15:33:28.441  INFO 18954 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a5c0deb, org.springframework.security.web.context.SecurityContextPersistenceFilter@4de2c0b3, org.springframework.security.web.header.HeaderWriterFilter@5412c1a0, org.springframework.web.filter.CorsFilter@dd20490, org.springframework.security.web.authentication.logout.LogoutFilter@2dee036e, com.iwaodev.config.filter.JwtCookieRequestFilter@20b885f2, com.iwaodev.config.filter.LimitLoginAttemptFilter@2f035427, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ef5bab0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ea7c53b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d27f0d6, org.springframework.security.web.session.SessionManagementFilter@4e7ae3b8, org.springframework.security.web.access.ExceptionTranslationFilter@160087ba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3318d7bc]
2021-07-17 15:33:28.629 DEBUG 18954 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-07-17 15:33:28.810 DEBUG 18954 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 81 mappings in 'requestMappingHandlerMapping'
2021-07-17 15:33:28.895 DEBUG 18954 --- [  restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2021-07-17 15:33:28.919 DEBUG 18954 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2021-07-17 15:33:29.814  WARN 18954 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2021-07-17 15:33:29.895  INFO 18954 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-07-17 15:33:29.905  INFO 18954 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 15 endpoint(s) beneath base path '/actuator'
2021-07-17 15:33:30.070  INFO 18954 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-07-17 15:33:30.094  INFO 18954 --- [  restartedMain] com.iwaodev.Application                  : Started Application in 23.612 seconds (JVM running for 24.397)
2021-07-17 15:33:30.259 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : HTTP POST http://localdev.com:8081/instances
2021-07-17 15:33:30.288 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Accept=[application/xml, text/xml, application/json, application/*+xml, application/*+json]
2021-07-17 15:33:30.327 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Writing [Application(name=spring-boot-application, managementUrl=http://sts-XPS-8900:8080/actuator, healthUrl=http://sts-XPS-8900:8080/actuator/health, serviceUrl=http://sts-XPS-8900:8080/)] as "application/json"
2021-07-17 15:33:30.417  WARN 18954 --- [gistrationTask1] d.c.b.a.c.r.ApplicationRegistrator       : Failed to register application as Application(name=spring-boot-application, managementUrl=http://sts-XPS-8900:8080/actuator, healthUrl=http://sts-XPS-8900:8080/actuator/health, serviceUrl=http://sts-XPS-8900:8080/) at spring-boot-admin ([http://localdev.com:8081/instances]): I/O error on POST request for "http://localdev.com:8081/instances": Connect to localdev.com:8081 [localdev.com/127.0.0.1] failed: Connection refused (Connection refused); nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localdev.com:8081 [localdev.com/127.0.0.1] failed: Connection refused (Connection refused). Further attempts are logged on DEBUG level
2021-07-17 15:33:40.220 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : HTTP POST http://localdev.com:8081/instances
2021-07-17 15:33:40.221 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Accept=[application/xml, text/xml, application/json, application/*+xml, application/*+json]
2021-07-17 15:33:40.222 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Writing [Application(name=spring-boot-application, managementUrl=http://sts-XPS-8900:8080/actuator, healthUrl=http://sts-XPS-8900:8080/actuator/health, serviceUrl=http://sts-XPS-8900:8080/)] as "application/json"
2021-07-17 15:33:50.220 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : HTTP POST http://localdev.com:8081/instances
2021-07-17 15:33:50.221 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Accept=[application/xml, text/xml, application/json, application/*+xml, application/*+json]
2021-07-17 15:33:50.222 DEBUG 18954 --- [gistrationTask1] o.s.web.client.RestTemplate              : Writing [Application(name=spring-boot-application, managementUrl=http://sts-XPS-8900:8080/actuator, healthUrl=http://sts-XPS-8900:8080/actuator/health, serviceUrl=http://sts-XPS-8900:8080/)] as "application/json"
2021-07-17 15:33:56.680  INFO 18954 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-07-17 15:33:56.715  INFO 18954 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-07-17 15:33:56.728  INFO 18954 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
